{"ast":null,"code":"var _jsxFileName = \"/Users/suha/Desktop/T1000/projects/Cap1/src/components/Game/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useParams, useHistory } from \"react-router\";\nimport { useState, useEffect } from \"react\";\nimport ReactHowler from 'react-howler';\nimport { GoUnmute, GoMute } from \"react-icons/go\";\nimport Card from \"../Card\";\nimport Timer from \"../Timer\";\nimport \"./style.css\";\nimport music2 from \"./music2.ogg\";\nimport music from \"./music.ogg\"; // {\n//   name: \"plants7\",\n//   src: \"https://i.pinimg.com/564x/ed/30/a1/ed30a12b5f672ea74ca5ed635a87871f.jpg\",\n//   isSucssed: false,\n// },\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game() {\n  _s();\n\n  const userName = useParams().userName;\n  const history = useHistory(); // const userNameF = (e) => {\n  // history.push(`/Result/${userName}/${result}`);\n  // };\n\n  const [arr, setArr] = useState([{\n    name: \"plants7\",\n    src: \"https://i.pinimg.com/564x/a1/53/da/a153da0f37dc7386b2c67502d80ae9f7.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants1\",\n    src: \"https://i.pinimg.com/564x/6d/86/c5/6d86c5153ccade3d70cc235338d4444c.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants2\",\n    src: \"https://i.pinimg.com/564x/c4/77/46/c477469d5bd5f1797cd74bb65847f7db.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants3\",\n    src: \"https://i.pinimg.com/564x/0a/48/a5/0a48a54db97de1dd0cfdd04650df3e36.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants4\",\n    src: \"https://i.pinimg.com/564x/e1/7e/9b/e17e9ba31aff98cf7f04bee00e7d85dc.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants5\",\n    src: \"https://i.pinimg.com/564x/15/56/be/1556becb4658034446f88eb308d8bf9d.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants8\",\n    src: \"https://i.pinimg.com/564x/a2/98/39/a29839270a9676ebd34ca37016a4545a.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants9\",\n    src: \"https://i.pinimg.com/564x/5c/da/c6/5cdac6181e53a22cc156c2ac70303841.jpg\",\n    isSucssed: false\n  }, {\n    name: \"plants10\",\n    src: \"https://i.pinimg.com/564x/d9/fc/e5/d9fce5fb0299f68ac88b206a964123aa.jpg\",\n    isSucssed: false\n  }]);\n  let [result, setResult] = useState(0); // init value result =0\n\n  let [timeSeconds, setTimeSeconds] = useState(\"90\");\n  let [img1, setImage1] = useState(null); // intial value for obj img1 =null\n\n  let [img2, setImage2] = useState(null); // intial value for obj img2 =null\n\n  let [permission, setPermission] = useState(false);\n  let [mute, setMute] = useState(false); //  array & copy array elem => array.length*2\n\n  useEffect(() => {\n    let tempArr = [...arr, ...arr];\n    tempArr = tempArr.map(elem => ({ ...elem,\n      //set random id for each elem\n      id: Math.round(Math.random() * 500)\n    })); //sort by id\n\n    tempArr.sort((elem1, elem2) => elem1.id - elem2.id);\n    setArr(tempArr);\n  }, []); //func coming from card component holding the obj\n  //set it to img2 if ther is img1 || set it to img1\n\n  const tempImg = elem => {\n    console.log(elem);\n\n    if (img1 != null) {\n      //if there is img1 then set chosen elem to img2  as second choise\n      img2 = elem;\n      setImage2(img2);\n    } else {\n      //else set chosen elem to img1 as first choise\n      img1 = elem;\n      setImage1(img1);\n    } //end func\n\n  }; // check there is chosen card or not\n  // match card => add 1 to result\n  // rest choises\n\n\n  useEffect(() => {\n    if (img1 && img2) {\n      setPermission(true);\n\n      if (img1.name === img2.name) {\n        // match card => add 1 to result &rest\n        result = result + 1;\n        let cards = arr.map(elem => {\n          //edit selected to true\n          if (elem.name === img1.name) {\n            return { ...elem,\n              isSucssed: true\n            };\n          } else {\n            return elem;\n          }\n        }); //loop end\n\n        setArr(cards);\n        setTimeout(() => restFunc(), 0); // to hold card until card back\n      } else {\n        setTimeout(() => restFunc(), 800); // to hold card until card back\n      }\n\n      setResult(result);\n\n      if (result === arr.length / 2) {\n        //if user finsh  \n        // end of the game\n        history.push(`/Result/${userName}/${result}`);\n      } // to show on screen\n\n    }\n  }, [img1, img2]); // depend if there is img1,img2 or do not do the effect\n  //reset func\n\n  const restFunc = () => {\n    //rest img1\n    setImage1(null); //rest img2\n\n    setImage2(null);\n    setPermission(false);\n    setResult(result);\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (timeSeconds === 0) {\n        return history.push(`/Result/${userName}/${result}`);\n      } else {\n        setTimeSeconds(timeSeconds--);\n      } //  updateTime();\n\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function updateTime() {\n    // check is it print every sec\n    if (timeSeconds > 0) {\n      setTimeSeconds(timeSeconds--);\n    } else {\n      history.push(`/Result/${userName}/${result}`);\n    }\n  } // useEffect(() => updateTime, [10]);\n\n\n  const muteFunc = () => {\n    mute = !mute;\n    window.Howler.mute(mute);\n    setMute(mute);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game\",\n    children: [/*#__PURE__*/_jsxDEV(ReactHowler // src='http://goldfirestudios.com/proj/howlerjs/sound.ogg'\n    , {\n      src: music2,\n      playing: true,\n      preload: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"timer\",\n      children: timeSeconds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userName\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Good Luck \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [userName, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your Score \", /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"score\",\n            children: result\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameBox\",\n      children: arr.map((elem, i) => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"card\",\n        elem: elem,\n        tempImg: tempImg //for hold chosen elem in card component\n        ,\n        switchCard: elem === img1 || elem === img2 || elem.isSucssed,\n        permission: permission\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"muteBtn\",\n        onClick: muteFunc,\n        children: mute ? /*#__PURE__*/_jsxDEV(GoMute, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(GoUnmute, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Game, \"t2swi739Ff9BCGsuDbiksz4/96U=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/suha/Desktop/T1000/projects/Cap1/src/components/Game/index.js"],"names":["React","useParams","useHistory","useState","useEffect","ReactHowler","GoUnmute","GoMute","Card","Timer","music2","music","Game","userName","history","arr","setArr","name","src","isSucssed","result","setResult","timeSeconds","setTimeSeconds","img1","setImage1","img2","setImage2","permission","setPermission","mute","setMute","tempArr","map","elem","id","Math","round","random","sort","elem1","elem2","tempImg","console","log","cards","setTimeout","restFunc","length","push","interval","setInterval","clearInterval","updateTime","muteFunc","window","Howler","i"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useParams, useHistory } from \"react-router\";\nimport { useState, useEffect } from \"react\";\nimport ReactHowler from 'react-howler'\nimport {GoUnmute, GoMute} from \"react-icons/go\"\n\nimport Card from \"../Card\";\nimport Timer from \"../Timer\";\nimport \"./style.css\";\nimport music2 from  \"./music2.ogg\";\nimport music from \"./music.ogg\"\n\n// {\n//   name: \"plants7\",\n//   src: \"https://i.pinimg.com/564x/ed/30/a1/ed30a12b5f672ea74ca5ed635a87871f.jpg\",\n//   isSucssed: false,\n// },\nfunction Game() {\n  const userName = useParams().userName;\n  const history = useHistory();\n  // const userNameF = (e) => {\n  // history.push(`/Result/${userName}/${result}`);\n  // };\n  const [arr, setArr] = useState([\n    {\n      name: \"plants7\",\n      src: \"https://i.pinimg.com/564x/a1/53/da/a153da0f37dc7386b2c67502d80ae9f7.jpg\",\n      isSucssed: false,\n    },\n\n    {\n      name: \"plants1\",\n      src: \"https://i.pinimg.com/564x/6d/86/c5/6d86c5153ccade3d70cc235338d4444c.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants2\",\n      src: \"https://i.pinimg.com/564x/c4/77/46/c477469d5bd5f1797cd74bb65847f7db.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants3\",\n      src: \"https://i.pinimg.com/564x/0a/48/a5/0a48a54db97de1dd0cfdd04650df3e36.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants4\",\n      src: \"https://i.pinimg.com/564x/e1/7e/9b/e17e9ba31aff98cf7f04bee00e7d85dc.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants5\",\n      src: \"https://i.pinimg.com/564x/15/56/be/1556becb4658034446f88eb308d8bf9d.jpg\",\n      isSucssed: false,\n    },\n\n    {\n      name: \"plants8\",\n      src: \"https://i.pinimg.com/564x/a2/98/39/a29839270a9676ebd34ca37016a4545a.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants9\",\n      src: \"https://i.pinimg.com/564x/5c/da/c6/5cdac6181e53a22cc156c2ac70303841.jpg\",\n      isSucssed: false,\n    },\n    {\n      name: \"plants10\",\n      src: \"https://i.pinimg.com/564x/d9/fc/e5/d9fce5fb0299f68ac88b206a964123aa.jpg\",\n      isSucssed: false,\n    },\n  ]);\n  let [result, setResult] = useState(0); // init value result =0\n  let [timeSeconds, setTimeSeconds] = useState(\"90\");\n  let [img1, setImage1] = useState(null); // intial value for obj img1 =null\n  let [img2, setImage2] = useState(null); // intial value for obj img2 =null\n  let [permission,setPermission] =useState(false);\n  let [mute,setMute] =useState(false);\n  //  array & copy array elem => array.length*2\n  useEffect(() => {\n    let tempArr = [...arr, ...arr];\n\n    tempArr = tempArr.map((elem) => ({\n      ...elem,\n      //set random id for each elem\n      id: Math.round(Math.random() * 500),\n    }));\n    //sort by id\n    tempArr.sort((elem1, elem2) => elem1.id - elem2.id);\n    setArr(tempArr);\n  }, []);\n\n  //func coming from card component holding the obj\n  //set it to img2 if ther is img1 || set it to img1\n  const tempImg = (elem) => {\n    console.log(elem);\n\n    if (img1 != null) {\n      //if there is img1 then set chosen elem to img2  as second choise\n      img2 = elem;\n      setImage2(img2);\n    } else {\n      //else set chosen elem to img1 as first choise\n      img1 = elem;\n      setImage1(img1);\n    }\n\n    //end func\n  };\n\n  // check there is chosen card or not\n  // match card => add 1 to result\n  // rest choises\n  useEffect(() => {\n    if (img1 && img2) {\n      setPermission(true)\n      if (img1.name === img2.name) {\n        // match card => add 1 to result &rest\n        result = result + 1;\n\n        let cards = arr.map((elem) => {\n          //edit selected to true\n          if (elem.name === img1.name) {\n            return { ...elem, isSucssed: true };\n          } else {\n            return elem;\n          }\n        }); //loop end\n        setArr(cards);\n        setTimeout(()=>restFunc(), 0);// to hold card until card back\n      } else {\n        setTimeout(()=>restFunc(), 800);// to hold card until card back\n      }\n      setResult(result);\n      if (result === arr.length/2) {\n        //if user finsh  \n          // end of the game\n          history.push(`/Result/${userName}/${result}`);\n      } // to show on screen\n    }\n  }, [img1, img2]); // depend if there is img1,img2 or do not do the effect\n\n  //reset func\n  const restFunc = () => {\n    //rest img1\n    setImage1(null);\n    //rest img2\n    setImage2(null);\n    setPermission(false);\n    setResult(result);\n  }; \n  \n    useEffect(() =>{\n      const interval = setInterval(() => {\n        if (timeSeconds === 0) {\n          return history.push(`/Result/${userName}/${result}`)\n        } else {\n          setTimeSeconds(timeSeconds--);\n        }\n      //  updateTime();\n      }, 1000);\n      return () => clearInterval(interval);\n    }, []);\n  \n  \n  \n    function updateTime() {\n      // check is it print every sec\n      if (timeSeconds > 0) {\n        setTimeSeconds(timeSeconds--);\n      } else {\n        history.push(`/Result/${userName}/${result}`);\n      }\n    }\n\n    // useEffect(() => updateTime, [10]);\n\nconst muteFunc=()=>{\nmute=!mute\n  window.Howler.mute(mute)\n  setMute(mute)\n}\n\n\n  return (\n\n    <div className=\"game\">\n            <ReactHowler\n        // src='http://goldfirestudios.com/proj/howlerjs/sound.ogg'\n        src={music2}\n        playing={true}\n        preload={true}\n      /> <span className =\"timer\">{timeSeconds}</span>\n  \n  <div className=\"gameInfo\">\n      <div className=\"userName\">\n      <h1>Good Luck </h1>\n      <span>{userName}!</span>\n      </div >\n      <div className=\"score\">\n      <h2>Your Score <span id=\"score\">{result}</span></h2></div>\n      </div>\n      <div className=\"gameBox\">\n        {arr.map((elem, i) => (\n          <Card\n            className=\"card\"\n            elem={elem}\n            tempImg={tempImg} //for hold chosen elem in card component\n            key={i}\n            switchCard={elem === img1 || elem === img2 || elem.isSucssed}\n            permission = {permission}\n          />\n        ))}\n      </div>\n           \n      <div className=\"gameInfo\">\n     \n      <button className=\"muteBtn\"\n       onClick={\n        muteFunc\n      }>{mute?<GoMute/>: <GoUnmute/>}\n        </button>\n        <span>\n          {/* <Timer result={result} toResult={toResult}/> */}\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}